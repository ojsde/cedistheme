.pkp_head_wrapper {
	background-color: @highlightColour;
	//padding-top: @triple * 2;
}

.pkp_head_wrapper when (@headerLight =true) {
	background-color: white;
}

.pkp_site_name_wrapper when (@headerLogoState ='banner') {
	background: @headerBackground;
	background-repeat: no-repeat;
	background-position-y: bottom;
	background-position-x: center;
}



// Site logo/name
.pkp_site_name {
	font-size: 2em; // Prevents extra vertical space after logos
	//text-align: center;
	margin: auto 0 !important;
	position: initial;

	>a {
		padding-top: @base;
		padding-bottom: @base;
		float: left;

		margin: auto 0;

		&:focus {
			outline: 0;
		}
	}

	.is_img {
		display: block;
		margin: auto 0 !important;

		&:focus {
			box-shadow: 0 0 1px @shadedDarkerNeutralColour;
		}

		img {
			display: block;
			height: auto;
			max-height: 120px;
			max-width: 100%;
			object-fit: contain;
			object-position: 0% 50%;

			margin: @double 0 !important;
		}
	}

	.is_img when (@headerLogoState ='banner') {
		display: none;
	}

	/*.short_text_title {
		display: none;

		position: static;
		margin: auto 0 !important;
		padding: 30px 0px;
		height: 100%;

		font-family: @font-site-title;
		font-size: @font-header;
		font-weight: @bold;
		line-height: @line-header;
		color: @highlightColour;
		text-decoration: none !important;


		&:focus {
			text-decoration: none;
		}
	}*/

	.is_text {
		display: none !important;
		visibility: hidden;

		position: static;
		margin: auto 0 !important;
		padding: 30px 0px;
		height: 100%;

		font-family: @font-site-title;
		font-size: @font-header;
		font-weight: @bold;
		line-height: @line-header;
		color: @highlightColour;
		text-decoration: none !important;


		&:focus {
			text-decoration: none;
		}
	}

	.is_text when (@headerHasLogo =false) {

		display: block !important;
		visibility: visible;

	}

	.is_text when (@headerLogoState ='banner') {
		display: block !important;
		visibility: visible;
	}

	@media (max-width: @screen-phone) {
		.is_img {
			display: none;
		}

		.is_text {
			display: block !important;
			visibility: visible;
		}

		.is_text when not (@shortTitle ='') {
			display: none !important;
			visibility: hidden;
		}

		.short_text_title when not (@shortTitle ='') {
			display: block;
			content: @shortTitle;
		}
	}
}


// The padding to apply to top-level items in the navigation row
// Total height - line height (divided by 2 since it will be applied to top and bottom)
@pkp_nav_primary_row_el_padding: (@quadruple - @double) / 2;

// Primary site navigation menu
.pkp_navigation_primary_row {
	background-color: @highlightColour;
	height: 100%;
	width: 100%;
}

.pkp_navigation_primary {

	text-align: center;
	//height: @base-line-height + 2px;

	>li {
		//height: @base-line-height + 2px;

		height: auto !important;

		>a {
			margin: 0 1em;
			padding: @pkp_nav_primary_row_el_padding 0 (@pkp_nav_primary_row_el_padding - 2); // -2 to account for border size
			border-bottom: 2px solid transparent;
			color: @menuColour;

			&:hover,
			&:focus {
				filter: invert(100%);

				outline: 0;
				//border-color: @menuColour;
				border: none;
			}
		}

		&:first-child {

			a {
				margin-left: 0;
			}
		}

		&:last-child {

			a {
				margin-right: 0;
			}
		}
	}

	>li:hover ul {
		left: 14px;
	}

	[aria-haspopup]:hover {
		border-color: transparent;
	}

	ul {
		text-align: left;

		a {
			padding-top: @base;
			padding-bottom: @base;
			color: @highlightColour;
		}
	}

	.dropdown-menu a:focus,
	.dropdown-menu a:hover {
		border-color: @contrastColour;
		;
	}

	display: inline-block;
	max-width: 80%;
	text-align: left;
}

@media screen and (max-width: @screen-phone) {
	.pkp_navigation_primary_row {
		display: block !important;
	}

	#navigationPrimary {
		display: block;

		li {
			display: block;
			height: @double * @base-line-height;
			//margin-top: -1 * @double  !important;
			padding: @double  !important;

			a {
				margin: -8px 0 !important;
				padding: 0 !important;
				height: 100%;
			}
		}
	}

	.pkp_site_name_wrapper {
		min-height: 50px !important;
		max-height: auto;
	}

}

.pkp_search {
	//display: inline;
	//float: left;
	//align-content: left;
	//width: 250px;
	margin: auto 0;
	padding: 9px 0px 9px 0px;

	input,
	button {
		display: inline !important;
		margin: auto 0;
	}

	input {
		float: left;
		width: auto;
		margin-right: 10px;
	}

	button {
		float: right;
	}

	.search_controls {
		display: none !important;
	}
}

& when (@headerLogoState ='off') {
	.is_text {
		display: block;
		visibility: visible;
	}
}
